<% content_for :search_navbar_class, "current-page" %>
<div class="search">
  <% if @query.blank? %>
    <div class="search-top">
      <h1>Search</h1>
      <%= form_tag("/search", method: "get", class: "search large-search") do %>
        <%= text_field_tag :query, @query, { placeholder: "Search" } %>
      <% end %>
    </div>
  <% else %>
    <div class="search-top">
      <h1>Search Results for "<%= @query %>"</h1>
      <%= form_tag("/search", method: "get", class: "search large-search") do %>
        <%= text_field_tag :query, @query, { placeholder: "Search" } %>
      <% end %>
    </div>
    <div class="pagination">
      <%= paginate @results %>
    </div>
    <div class="search-results">
      <% if @results.empty? %>
        <div>No results found for "<%= @query %>".</div>
      <% else %>
        <% @results.each do | result | %>
          <div class="search-result">
            <%= result.render_search_view %>
          </div>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
